<!doctype html>
<html>
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">

  <title>wc-primer-7</title>
  
  <link rel="import" href="src/imports.html">
  
</head>
<body>

  <app-view></app-view>

  <template>
    <simple-router on-route-change="onRouteChange"></simple-router> 
    <primer-data on-content-change="onContentChange"></primer-data>
    
    <app-content>
      <content-column>
        <content-title><span>{{$You are here}}</span>: <span>{{$title}}</span></content-title>
        <some-content content="{{content}}"></some-content>
      </content-column>
    </app-content>
    <nav-bar sections="Here There Somewhere Nowhere"></nav-bar>
    
    <service-worker href="sw.js"></service-worker>
    <google-analytics></google-analytics>
  </template>
  
  <script>
    document.registerElement('app-view', {
      prototype: {
        __proto__: HTMLElement.prototype,
        createdCallback: function() {
          this.dom = Annotations.prepare(document.querySelector('template'));
          this.dom.stamp(this);
        },
        onRouteChange: function(e) {
          this.dom.set('$title', e.detail || 'Here');
        },
        onContentChange: function(e) {
          this.dom.set('content', e.detail || '(no content)');
        }
      }
    });
  </script>
  
</body>
</html>
