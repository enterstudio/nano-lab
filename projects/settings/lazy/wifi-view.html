<style>
  wifi-item {
    display: block;
  }
  wifi-item span {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
</style>

<template id="wifi-item">
  <a horizontal layout info href="{{href}}" title="{{name}}">
    <icon wifi></icon>
    &nbsp;&nbsp;
    <span name>{{name}}</span>
    <span flex></span>
    <icon id="done"></icon>
    &nbsp;&nbsp;
    <icon settings></icon>
  </a>
</template>

<script>
  Nano({
    name: 'wifi-item',
    sugar: {
      properties: ['item'],
      template: document.currentImport.querySelector('#wifi-item')
    },
    prototype: {
      __proto__: Polymer.BaseElement.prototype,
      itemChanged: function(item) {
        this.bindModel({
          name: item.name, 
          href: '?' + 'Internet Connection/' + (item.href || 'nope'), 
          $done: item.selected ? 'done' : ''
        });
      }
    }
  });
</script>

<!-- -->

<style>
  wifi-view {
    display: block;
  }
  wifi-view [info] {
    line-height: 2em;
  }
  wifi-view a {
    padding: 16px 0;
    border-top: 1px solid #f8f8f8;
    border-bottom: 1px solid #fbfbfb;
    text-decoration: none;
    color: inherit;
  }
</style>

<template id="wifi-view">
  <div id="choices"></div>
  <a horizontal center layout href="?Internet connection/Known networks"><span>{{Known networks}}</span></a>
  <a horizontal center layout href="?Internet connection/Join other"><span>{{Join other}}</span></a>
</template>

<script>
  Nano({
    name: 'wifi-view',
    sugar: {
      template: document.currentImport.querySelector('#wifi-view')
    },
    prototype: {
      __proto__: Polymer.BaseElement.prototype,
      createdCallback: function() {
        this.render([
          {name: 'Google A', selected: true},
          {name: 'JANEHOME'},
          {name: 'stanson225'},
          {name: 'Connect Here Mom'},
          {name: 'XFINITY8342'},
          {name: 'Google A'},
          {name: 'JANEHOME'},
          {name: 'stanson225'},
          {name: 'Connect Here D'},
          {name: 'XFINITY8342'}
        ].slice(0, 5), this.$.choices);
        // l10n
        [ 'Known networks', 'Join other' ].forEach(function(n) {
          this.updateBindings(n, Nano.translate(n))
        }, this);
      },
      render: function(choices, target) {
        Polymer.Utils.repeat('wifi-item', choices, target);
      }
    }
  });
  
</script>